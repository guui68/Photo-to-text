<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium AI Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: #0f172a;
            background-image: radial-gradient(at 0% 0%, rgba(30, 58, 138, 0.5) 0, transparent 50%), 
                              radial-gradient(at 50% 0%, rgba(88, 28, 135, 0.5) 0, transparent 50%);
            height: 100vh;
            overflow: hidden;
        }
        .glass-container {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .ai-bubble {
            background: rgba(255, 255, 255, 0.07);
            border-bottom-left-radius: 4px;
        }
        .user-bubble {
            background: linear-gradient(135deg, #2563eb, #7c3aed);
            border-bottom-right-radius: 4px;
        }
        #chatBox::-webkit-scrollbar { width: 4px; }
        #chatBox::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); border-radius: 10px; }
    </style>
</head>
<body class="flex items-center justify-center p-4">

    <div class="w-full max-w-4xl h-[90vh] glass-container rounded-[2rem] shadow-2xl flex flex-col relative">
        <div class="absolute -top-10 -right-10 w-40 h-40 bg-purple-600/20 rounded-full blur-3xl"></div>
        
        <div class="p-6 border-b border-white/10 flex items-center gap-4">
            <div class="w-12 h-12 bg-gradient-to-tr from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg">
                <span class="text-white font-bold text-xl">G</span>
            </div>
            <div>
                <h1 class="text-white font-semibold text-lg">Gemini Intelligence</h1>
                <div class="flex items-center gap-2">
                    <span class="w-2 h-2 bg-green-500 rounded-full"></span>
                    <span class="text-gray-400 text-xs uppercase tracking-tighter">System Active</span>
                </div>
            </div>
        </div>

        <div id="chatBox" class="flex-1 overflow-y-auto p-6 space-y-6">
            <div class="flex justify-start">
                <div class="ai-bubble text-gray-200 p-4 rounded-2xl max-w-[80%] shadow-xl">
                    হ্যালো! আমি আপনার ব্যক্তিগত এআই। আজ আপনাকে কীভাবে সাহায্য করতে পারি?
                </div>
            </div>
        </div>

        <div class="p-6">
            <div class="relative group">
                <input type="text" id="userInput" 
                    class="w-full bg-white/5 border border-white/10 rounded-2xl py-5 px-6 pr-20 text-white focus:outline-none focus:ring-2 focus:ring-purple-500/50 transition-all placeholder:text-gray-500"
                    placeholder="আপনার প্রশ্নটি এখানে টাইপ করুন...">
                <button onclick="askGemini()" 
                    class="absolute right-3 top-1/2 -translate-y-1/2 bg-white text-black font-bold py-3 px-6 rounded-xl hover:bg-purple-500 hover:text-white transition-all active:scale-95 shadow-lg">
                    পাঠান
                </button>
            </div>
            <p class="text-center text-gray-500 text-[10px] mt-4 tracking-widest uppercase">Powered by Gemini 1.5 Flash</p>
        </div>
    </div>

    <script>
        const API_KEY = "AIzaSyBVUNmZ7l4gE5SiSw8_jScrbQ3rw9-R2Yg"; // আপনার দেওয়া কি
        const URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`;

        async function askGemini() {
            const input = document.getElementById('userInput');
            const chatBox = document.getElementById('chatBox');
            const text = input.value.trim();

            if (!text) return;

            // User Message
            appendMessage(text, 'user');
            input.value = '';

            // Loading state
            const loadingId = 'loading-' + Date.now();
            const loadingDiv = document.createElement('div');
            loadingDiv.id = loadingId;
            loadingDiv.className = "flex justify-start";
            loadingDiv.innerHTML = `<div class="ai-bubble text-blue-300 p-4 rounded-2xl animate-pulse">চিন্তা করছি...</div>`;
            chatBox.appendChild(loadingDiv);
            chatBox.scrollTop = chatBox.scrollHeight;

            try {
                const response = await fetch(URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: text }] }]
                    })
                });

                const data = await response.json();
                document.getElementById(loadingId).remove();

                if (data.candidates && data.candidates[0].content.parts[0].text) {
                    const aiText = data.candidates[0].content.parts[0].text;
                    appendMessage(aiText, 'ai');
                } else {
                    appendMessage("দুঃখিত, আমি উত্তর খুঁজে পাইনি।", 'ai');
                }
            } catch (error) {
                document.getElementById(loadingId).remove();
                appendMessage("একটি ত্রুটি ঘটেছে। অনুগ্রহ করে আপনার ইন্টারনেট কানেকশন চেক করুন।", 'ai');
            }
        }

        function appendMessage(text, sender) {
            const chatBox = document.getElementById('chatBox');
            const div = document.createElement('div');
            div.className = sender === 'user' ? "flex justify-end" : "flex justify-start";
            
            const bubbleClass = sender === 'user' ? "user-bubble text-white shadow-blue-500/20" : "ai-bubble text-gray-200 shadow-black/20";
            
            div.innerHTML = `
                <div class="${bubbleClass} p-4 rounded-2xl max-w-[85%] shadow-2xl leading-relaxed">
                    ${text.replace(/\n/g, '<br>')}
                </div>
            `;
            chatBox.appendChild(div);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        document.getElementById('userInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') askGemini();
        });
    </script>
</body>
</html>
